{"version":3,"file":"axios-nest.js","mappings":"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","sources":["webpack://AxiosNest/webpack/universalModuleDefinition","webpack://AxiosNest/external umd \"axios\"","webpack://AxiosNest/webpack/bootstrap","webpack://AxiosNest/webpack/runtime/compat get default export","webpack://AxiosNest/webpack/runtime/define property getters","webpack://AxiosNest/webpack/runtime/hasOwnProperty shorthand","webpack://AxiosNest/./src/nest.ts","webpack://AxiosNest/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"axios\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AxiosNest\"] = factory(require(\"axios\"));\n\telse\n\t\troot[\"AxiosNest\"] = factory(root[\"axios\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__742__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__742__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import axios from \"axios\";\nfunction bind(fn, thisArg) {\n    return function wrap() {\n        return fn.apply(thisArg, arguments);\n    };\n}\nclass Nest {\n    constructor(config, axios) {\n        this.config = {};\n        this.config = config;\n        this.$axios = axios;\n    }\n    mergeConfig(config = {}) {\n        let _config = axios.mergeConfig(config, Object.assign({}, this.config));\n        return _config;\n    }\n    request(config = {}) {\n        return this.$axios.request(this.mergeConfig(config));\n    }\n    get(config = {}) {\n        config.method = 'get';\n        return this.request(this.mergeConfig(config));\n    }\n    delete(config = {}) {\n        config.method = 'delete';\n        return this.request(this.mergeConfig(config));\n    }\n    head(config = {}) {\n        config.method = 'head';\n        return this.request(this.mergeConfig(config));\n    }\n    options(config = {}) {\n        config.method = 'options';\n        return this.request(this.mergeConfig(config));\n    }\n    post(data, config = {}) {\n        config.method = 'post';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    put(data, config = {}) {\n        config.method = 'put';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    patch(data, config = {}) {\n        config.method = 'patch';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    getUri(config = {}) {\n        return this.$axios.getUri(this.mergeConfig(config));\n    }\n}\nexport default class AxiosNest {\n    constructor(axios) {\n        this.axios = axios;\n    }\n    buildApiList(config) {\n        const that = this;\n        const handler = {\n            get(target, prop) {\n                if (prop === '$axios') {\n                    return that.axios;\n                }\n                const value = target[prop];\n                if (typeof value === 'string') {\n                    return that.createNest({ url: value });\n                }\n                if (typeof value === 'object') {\n                    // 如果对象中有 'url' 属性，返回 Nest 实例\n                    if ('url' in value) {\n                        return that.createNest(Object.assign({}, value));\n                    }\n                    // 否则递归处理对象的属性\n                    return new Proxy(value, handler);\n                }\n            }\n        };\n        return new Proxy(config, handler);\n    }\n    createNest(config) {\n        let context = new Nest(config, this.axios);\n        let nest = bind(Nest.prototype.request, context);\n        return new Proxy(nest, {\n            get(target, prop) {\n                var _a;\n                return (_a = Reflect.get(context, prop)) !== null && _a !== void 0 ? _a : Reflect.get(context.$axios, prop);\n            },\n            set(target, prop, value) {\n                return Reflect.set(target, prop, value);\n            }\n        });\n    }\n}\n","import AxiosNest from \"./nest\";\nexport default AxiosNest;\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__742__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Nest","constructor","config","axios","$axios","mergeConfig","assign","request","method","head","options","post","data","put","patch","getUri","buildApiList","that","handler","target","value","createNest","url","Proxy","context","nest","fn","thisArg","apply","arguments","_a","Reflect","set"],"sourceRoot":""}