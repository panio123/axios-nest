{"version":3,"file":"index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAmB,UAAID,IAEvBD,EAAgB,UAAIC,GACrB,CATD,CASGK,MAAM,I,mBCRT,IAAIC,EAAsB,CCA1BA,EAAwB,CAACL,EAASM,KACjC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDF,EAAwB,CAACQ,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,4BCKlF,MAAMI,EACF,WAAAC,CAAYC,EAAQC,GAChBjB,KAAKgB,OAAS,CAAC,EACfhB,KAAKgB,OAASA,EACdhB,KAAKkB,OAASD,CAClB,CACA,WAAAE,CAAYH,EAAS,CAAC,GAElB,IAAII,EAAUf,OAAOgB,OAAOhB,OAAOgB,OAAOhB,OAAOgB,OAAO,CAAC,EAAGrB,KAAKgB,QAASA,IAE1E,OADAM,QAAQC,IAAIH,EAASpB,KAAKgB,OAAQA,EAAQI,IAAYJ,GAC/CI,CACX,CACA,OAAAI,CAAQR,EAAS,CAAC,GACd,OAAOhB,KAAKkB,OAAOM,QAAQxB,KAAKmB,YAAYH,GAChD,CACA,GAAAR,CAAIQ,EAAS,CAAC,GAEV,OADAA,EAAOS,OAAS,MACTzB,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,OAAOA,EAAS,CAAC,GAEb,OADAA,EAAOS,OAAS,SACTzB,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,IAAAU,CAAKV,EAAS,CAAC,GAEX,OADAA,EAAOS,OAAS,OACTzB,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,OAAAW,CAAQX,EAAS,CAAC,GAEd,OADAA,EAAOS,OAAS,UACTzB,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,IAAAY,CAAKC,EAAMb,EAAS,CAAC,GAGjB,OAFAA,EAAOS,OAAS,OAChBT,EAAOa,KAAOA,EACP7B,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,GAAAc,CAAID,EAAMb,EAAS,CAAC,GAGhB,OAFAA,EAAOS,OAAS,MAChBT,EAAOa,KAAOA,EACP7B,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,KAAAe,CAAMF,EAAMb,EAAS,CAAC,GAGlB,OAFAA,EAAOS,OAAS,QAChBT,EAAOa,KAAOA,EACP7B,KAAKwB,QAAQxB,KAAKmB,YAAYH,GACzC,CACA,MAAAgB,CAAOhB,EAAS,CAAC,GACb,OAAOhB,KAAKkB,OAAOc,OAAOhC,KAAKmB,YAAYH,GAC/C,EAEW,MAAMiB,EACjB,WAAAlB,CAAYE,GACRjB,KAAKiB,MAAQA,CACjB,CACA,YAAAiB,CAAalB,GACT,MAAMmB,EAAOnC,KACPoC,EAAU,CACZ,GAAA5B,CAAI6B,EAAQ3B,GACR,GAAa,WAATA,EACA,OAAOyB,EAAKlB,MAEhB,MAAMqB,EAAQD,EAAO3B,GACrB,MAAqB,iBAAV4B,EACAH,EAAKI,WAAW,CAAEC,IAAKF,IAEb,iBAAVA,EAEH,QAASA,EACFH,EAAKI,WAAWlC,OAAOgB,OAAO,CAAC,EAAGiB,IAGtC,IAAIG,MAAMH,EAAOF,QAN5B,CAQJ,GAEJ,OAAO,IAAIK,MAAMzB,EAAQoB,EAC7B,CACA,UAAAG,CAAWvB,GACP,IAAI0B,EAAU,IAAI5B,EAAKE,EAAQhB,KAAKiB,OAChC0B,GApFEC,EAoFU9B,EAAKH,UAAUa,QApFrBqB,EAoF8BH,EAnFrC,WACH,OAAOE,EAAGE,MAAMD,EAASE,UAC7B,GAHJ,IAAcH,EAAIC,EAsFV,OADAF,EAAKzB,OAASlB,KAAKiB,MACZ,IAAIwB,MAAME,EAAM,CACnBnC,IAAG,CAAC6B,EAAQ3B,IACDsC,QAAQxC,IAAIkC,EAAShC,GAEhCuC,IAAG,CAACZ,EAAQ3B,EAAM4B,IACPU,QAAQC,IAAIZ,EAAQ3B,EAAM4B,IAG7C,E","sources":["webpack://AxiosNest/webpack/universalModuleDefinition","webpack://AxiosNest/webpack/bootstrap","webpack://AxiosNest/webpack/runtime/define property getters","webpack://AxiosNest/webpack/runtime/hasOwnProperty shorthand","webpack://AxiosNest/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AxiosNest\"] = factory();\n\telse\n\t\troot[\"AxiosNest\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","function bind(fn, thisArg) {\n    return function wrap() {\n        return fn.apply(thisArg, arguments);\n    };\n}\nclass Nest {\n    constructor(config, axios) {\n        this.config = {};\n        this.config = config;\n        this.$axios = axios;\n    }\n    mergeConfig(config = {}) {\n        // @ts-ignore\n        let _config = Object.assign(Object.assign(Object.assign({}, this.config), config));\n        console.log(_config, this.config, config, _config === config);\n        return _config;\n    }\n    request(config = {}) {\n        return this.$axios.request(this.mergeConfig(config));\n    }\n    get(config = {}) {\n        config.method = 'get';\n        return this.request(this.mergeConfig(config));\n    }\n    delete(config = {}) {\n        config.method = 'delete';\n        return this.request(this.mergeConfig(config));\n    }\n    head(config = {}) {\n        config.method = 'head';\n        return this.request(this.mergeConfig(config));\n    }\n    options(config = {}) {\n        config.method = 'options';\n        return this.request(this.mergeConfig(config));\n    }\n    post(data, config = {}) {\n        config.method = 'post';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    put(data, config = {}) {\n        config.method = 'put';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    patch(data, config = {}) {\n        config.method = 'patch';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    getUri(config = {}) {\n        return this.$axios.getUri(this.mergeConfig(config));\n    }\n}\nexport default class AxiosNest {\n    constructor(axios) {\n        this.axios = axios;\n    }\n    buildApiList(config) {\n        const that = this;\n        const handler = {\n            get(target, prop) {\n                if (prop === '$axios') {\n                    return that.axios;\n                }\n                const value = target[prop];\n                if (typeof value === 'string') {\n                    return that.createNest({ url: value });\n                }\n                if (typeof value === 'object') {\n                    // 如果对象中有 'url' 属性，返回 Nest 实例\n                    if ('url' in value) {\n                        return that.createNest(Object.assign({}, value));\n                    }\n                    // 否则递归处理对象的属性\n                    return new Proxy(value, handler);\n                }\n            }\n        };\n        return new Proxy(config, handler);\n    }\n    createNest(config) {\n        let context = new Nest(config, this.axios);\n        let nest = bind(Nest.prototype.request, context);\n        nest.$axios = this.axios;\n        return new Proxy(nest, {\n            get(target, prop) {\n                return Reflect.get(context, prop);\n            },\n            set(target, prop, value) {\n                return Reflect.set(target, prop, value);\n            }\n        });\n    }\n}\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Nest","constructor","config","axios","$axios","mergeConfig","_config","assign","console","log","request","method","head","options","post","data","put","patch","getUri","AxiosNest","buildApiList","that","handler","target","value","createNest","url","Proxy","context","nest","fn","thisArg","apply","arguments","Reflect","set"],"sourceRoot":""}