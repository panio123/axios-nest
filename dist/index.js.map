{"version":3,"file":"index.js","mappings":"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","sources":["webpack://AxiosNest/webpack/universalModuleDefinition","webpack://AxiosNest/webpack/bootstrap","webpack://AxiosNest/webpack/runtime/define property getters","webpack://AxiosNest/webpack/runtime/hasOwnProperty shorthand","webpack://AxiosNest/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AxiosNest\"] = factory();\n\telse\n\t\troot[\"AxiosNest\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","function bind(fn, thisArg) {\n    return function wrap() {\n        return fn.apply(thisArg, arguments);\n    };\n}\nclass Nest {\n    constructor(config, axios) {\n        this.config = {};\n        this.config = config;\n        this.$axios = axios;\n    }\n    mergeConfig(config = {}) {\n        // @ts-ignore\n        let _config = Object.assign(Object.assign(Object.assign({}, this.config), config));\n        return _config;\n    }\n    request(config = {}) {\n        return this.$axios.request(this.mergeConfig(config));\n    }\n    get(config = {}) {\n        config.method = 'get';\n        return this.request(this.mergeConfig(config));\n    }\n    delete(config = {}) {\n        config.method = 'delete';\n        return this.request(this.mergeConfig(config));\n    }\n    head(config = {}) {\n        config.method = 'head';\n        return this.request(this.mergeConfig(config));\n    }\n    options(config = {}) {\n        config.method = 'options';\n        return this.request(this.mergeConfig(config));\n    }\n    post(data, config = {}) {\n        config.method = 'post';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    put(data, config = {}) {\n        config.method = 'put';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    patch(data, config = {}) {\n        config.method = 'patch';\n        config.data = data;\n        return this.request(this.mergeConfig(config));\n    }\n    getUri(config = {}) {\n        return this.$axios.getUri(this.mergeConfig(config));\n    }\n}\nexport default class AxiosNest {\n    constructor(axios) {\n        this.axios = axios;\n    }\n    buildApiList(config) {\n        const that = this;\n        const handler = {\n            get(target, prop) {\n                if (prop === '$axios') {\n                    return that.axios;\n                }\n                const value = target[prop];\n                if (typeof value === 'string') {\n                    return that.createNest({ url: value });\n                }\n                if (typeof value === 'object') {\n                    // 如果对象中有 'url' 属性，返回 Nest 实例\n                    if ('url' in value) {\n                        return that.createNest(Object.assign({}, value));\n                    }\n                    // 否则递归处理对象的属性\n                    return new Proxy(value, handler);\n                }\n            }\n        };\n        return new Proxy(config, handler);\n    }\n    createNest(config) {\n        let context = new Nest(config, this.axios);\n        let nest = bind(Nest.prototype.request, context);\n        return new Proxy(nest, {\n            get(target, prop) {\n                return Reflect.get(context, prop);\n            },\n            set(target, prop, value) {\n                return Reflect.set(target, prop, value);\n            }\n        });\n    }\n}\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Nest","constructor","config","axios","$axios","mergeConfig","assign","request","method","head","options","post","data","put","patch","getUri","AxiosNest","buildApiList","that","handler","target","value","createNest","url","Proxy","context","nest","fn","thisArg","apply","arguments","Reflect","set"],"sourceRoot":""}